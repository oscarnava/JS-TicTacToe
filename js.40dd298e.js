parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"dTec":[function(require,module,exports) {
"use strict";function e(t=new Array(9).fill(0)){return{validMove:e=>e>=1&&e<=9&&!t[e-1],getValidMoves:()=>t.reduce((e,t,n)=>t?e:e.concat(n+1),[]),setCell:(e,n)=>{t[e-1]=n+1},winner:()=>{const e=(()=>{const[e,n,r,l,o,u,c,s,i]=t;return e&n&r||l&o&u||c&s&i||e&l&c||n&o&s||r&u&i||e&o&i||r&o&c})();return e?e-1:t.includes(0)?null:-1},toString:()=>t.map(e=>[" ","X","O"][e]),clone:()=>e([...t])}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"eDsD":[function(require,module,exports) {
"use strict";function e(e,t){return{name:e,token:["X","O"][t],playMove:()=>{}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"FCUV":[function(require,module,exports) {
"use strict";function e(e,t,o=500){const s=["X","O"][t],r=(e,t)=>{(e=e.clone()).playMove(t);let o=e.getStatus(),s=1;for(;"playing"===o.status;){const t=e.getValidMoves(),r=t[Math.floor(Math.random()*t.length)];e.playMove(r),o=e.getStatus(),s+=1}return o.moves=s,o};return{name:e,token:s,playMove:(e,t)=>{const a=(e=>{const t=e.getValidMoves().map(e=>({move:e,score:0,total:0}));let a=0;for(let n=Date.now()+o;Date.now()<n&&a<5e4;a+=1){const o=t[Math.floor(Math.random()*t.length)],{status:a,moves:n,player:l={}}=r(e,o.move);"win"===a?l.token===s?o.score+=1/n:o.score-=1/n:"draw"===a&&(o.score+=.25/n),o.total+=1}return console.log("Times",a,t),t.reduce(({bestMove:e,bestScore:t},{move:o,score:s,total:r})=>{const a=s/r;return a>t?{bestMove:o,bestScore:a}:{bestMove:e,bestScore:t}},{bestMove:0,bestScore:-9e99}).bestMove})(e);setTimeout(()=>t(a),100)}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"IEHn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("./board")),t=a(require("./player")),r=a(require("./ai"));function a(e){return e&&e.__esModule?e:{default:e}}const u=function a(l=(0,e.default)(),s=[],n=0){return{setPlayer:(e,a,u=!1)=>{s[a]=u?(0,r.default)(e,a):(0,t.default)(e,a)},playMove:e=>!!l.validMove(e)&&(l.setCell(e,n),n=1-n,!0),getStatus:()=>{switch(l.winner()){case 0:return{status:"win",player:s[0]};case 1:return{status:"win",player:s[1]};case-1:return{status:"draw"};default:return{status:"playing"}}},getBoardState:()=>l.toString(),newGame:(t=0)=>{l=(0,e.default)(),n=t},clone:()=>a(l.clone(),[...s],n),getValidMoves:()=>l.getValidMoves(),nextPlayerTurn:e=>{s[n].playMove(u,e)}}}();var l=u;exports.default=l;
},{"./board":"dTec","./player":"eDsD","./ai":"FCUV"}],"QvaY":[function(require,module,exports) {
"use strict";var e=t(require("./game"));function t(e){return e&&e.__esModule?e:{default:e}}const a="https://robohash.org";window.gs=e.default;const l=document.querySelector.bind(document),[n,s,r,i,c,u,d,o,y]=["#tic-tac-toe","#winner","#player-1","#player-2","#ai-1","#ai-2","#play","#avatar-1","#avatar-2"].map(l);function f(){e.default.getBoardState().forEach((e,t)=>{n.children[t].className=`cell ${e.toLowerCase()}`.trim()})}function p(e){l(`#cell-${e}`).click(),f()}function g(){e.default.newGame(),e.default.setPlayer(r.value,0,c.checked),e.default.setPlayer(i.value,1,u.checked),o.src=`${a}/${r.value}`,y.src=`${a}/${i.value}`,n.style.display="grid",s.style.display="none",d.style.display="none",f(),e.default.nextPlayerTurn(p)}function v(t){if(!t.target.classList.contains("cell")||"playing"!==e.default.getStatus().status)return;e.default.playMove(t.target.id.split("-")[1]),f();const{status:a,player:{name:l}={}}=e.default.getStatus();"playing"!==a?(s.textContent="win"===a?`Winner: ${l}`:"No winner!",s.style.display="block",d.textContent="Play again!",d.style.display="block"):e.default.nextPlayerTurn(p)}n.addEventListener("click",v),d.addEventListener("click",g);
},{"./game":"IEHn"}]},{},["QvaY"], null)
//# sourceMappingURL=js.40dd298e.js.map